- args:
    custom_types:
      input_objects:
      - fields:
        - name: username
          type: String!
        - name: password
          type: String!
        name: SampleInput
      objects:
      - fields:
        - name: accessToken
          type: String!
        name: SampleOutput
    tables:
    - array_relationships:
      - name: children
        using:
          foreign_key_constraint_on:
            column: parent_id
            table:
              name: command
              schema: public
      - name: run_history
        using:
          foreign_key_constraint_on:
            column: command_id
            table:
              name: command_run_history
              schema: public
      delete_permissions:
      - permission:
          filter:
            project:
              organization:
                owner:
                  firebase_id:
                    _eq: X-Hasura-User-Id
        role: user
      insert_permissions:
      - permission:
          check:
            project:
              organization:
                owner:
                  firebase_id:
                    _eq: X-Hasura-User-Id
          columns:
          - id
          - project_id
          - parent_id
        role: user
      object_relationships:
      - name: parent
        using:
          foreign_key_constraint_on: parent_id
      - name: project
        using:
          foreign_key_constraint_on: project_id
      select_permissions:
      - permission:
          allow_aggregations: true
          columns:
          - id
          - parent_id
          - project_id
          - created_at
          - updated_at
          filter:
            project:
              organization:
                owner:
                  firebase_id:
                    _eq: X-Hasura-User-Id
        role: user
      table:
        name: command
        schema: public
      update_permissions:
      - permission:
          check: null
          columns:
          - project_id
          - parent_id
          filter:
            project:
              organization:
                owner:
                  firebase_id:
                    _eq: X-Hasura-User-Id
        role: user
    - object_relationships:
      - name: command
        using:
          foreign_key_constraint_on: command_id
      select_permissions:
      - permission:
          columns:
          - id
          - command_id
          - created_at
          - running_time
          - missconfiguration
          - fail
          filter:
            command:
              project:
                organization:
                  owner:
                    firebase_id:
                      _eq: X-Hasura-User-Id
        role: user
      table:
        name: command_run_history
        schema: public
    - array_relationships:
      - name: invited_users
        using:
          foreign_key_constraint_on:
            column: organization_id
            table:
              name: organization_invite_user
              schema: public
      - name: projects
        using:
          foreign_key_constraint_on:
            column: organization_id
            table:
              name: project
              schema: public
      delete_permissions:
      - permission:
          filter:
            owner:
              firebase_id:
                _eq: X-Hasura-User-Id
        role: user
      insert_permissions:
      - permission:
          check:
            owner:
              firebase_id:
                _eq: X-Hasura-User-Id
          columns:
          - name
          - owner_id
          - slug
        role: user
      object_relationships:
      - name: owner
        using:
          foreign_key_constraint_on: owner_id
      select_permissions:
      - permission:
          columns:
          - id
          - name
          - owner_id
          - slug
          filter:
            owner:
              firebase_id:
                _eq: X-Hasura-User-Id
        role: user
      table:
        name: organization
        schema: public
      update_permissions:
      - permission:
          check: null
          columns:
          - name
          - slug
          filter:
            owner:
              firebase_id:
                _eq: X-Hasura-User-Id
        role: user
    - delete_permissions:
      - permission:
          filter:
            organization:
              owner:
                firebase_id:
                  _eq: X-Hasura-User-Id
        role: user
      event_triggers:
      - definition:
          enable_manual: true
          insert:
            columns: '*'
        name: invite-user
        retry_conf:
          interval_sec: 10
          num_retries: 0
          timeout_sec: 60
        webhook: http://example.com
      insert_permissions:
      - permission:
          check:
            organization:
              owner:
                firebase_id:
                  _eq: X-Hasura-User-Id
          columns:
          - email
          - organization_id
        role: user
      object_relationships:
      - name: organization
        using:
          foreign_key_constraint_on: organization_id
      select_permissions:
      - permission:
          columns:
          - created_at
          - email
          - id
          - organization_id
          filter:
            organization:
              owner:
                firebase_id:
                  _eq: X-Hasura-User-Id
        role: user
      table:
        name: organization_invite_user
        schema: public
    - array_relationships:
      - name: commands
        using:
          foreign_key_constraint_on:
            column: project_id
            table:
              name: command
              schema: public
      - name: run_history
        using:
          foreign_key_constraint_on:
            column: project_id
            table:
              name: project_run_history
              schema: public
      delete_permissions:
      - permission:
          filter:
            organization:
              owner:
                firebase_id:
                  _eq: X-Hasura-User-Id
        role: user
      insert_permissions:
      - permission:
          check:
            organization:
              owner:
                firebase_id:
                  _eq: X-Hasura-User-Id
          columns:
          - name
          - organization_id
          - slug
        role: user
      object_relationships:
      - name: organization
        using:
          foreign_key_constraint_on: organization_id
      select_permissions:
      - permission:
          columns:
          - id
          - name
          - organization_id
          - slug
          filter:
            organization:
              owner:
                firebase_id:
                  _eq: X-Hasura-User-Id
        role: user
      table:
        name: project
        schema: public
      update_permissions:
      - permission:
          check: null
          columns:
          - name
          - slug
          filter:
            organization:
              owner:
                firebase_id:
                  _eq: X-Hasura-User-Id
        role: user
    - object_relationships:
      - name: project
        using:
          foreign_key_constraint_on: project_id
      select_permissions:
      - permission:
          allow_aggregations: true
          columns:
          - id
          - run_by_user
          - project_id
          - created_at
          - commands_done
          - commands_failed
          - commands_total
          filter:
            project:
              organization:
                owner:
                  firebase_id:
                    _eq: X-Hasura-User-Id
        role: user
      table:
        name: project_run_history
        schema: public
    - array_relationships:
      - name: owner_of_organizations
        using:
          foreign_key_constraint_on:
            column: owner_id
            table:
              name: organization
              schema: public
      insert_permissions:
      - permission:
          check:
            firebase_id:
              _eq: X-Hasura-User-Id
          columns:
          - name
          set:
            firebase_id: x-hasura-User-Id
        role: user
      select_permissions:
      - permission:
          columns:
          - firebase_id
          - id
          - name
          filter:
            firebase_id:
              _eq: X-Hasura-User-Id
        role: user
      table:
        name: user
        schema: public
      update_permissions:
      - permission:
          check: null
          columns:
          - name
          filter:
            firebase_id:
              _eq: X-Hasura-User-Id
        role: user
    version: 2
  type: replace_metadata
